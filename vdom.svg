<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1048px" height="620px" viewBox="-0.5 -0.5 1048 620" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-03-09T10:59:23.186Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.108 Safari/537.36&quot; etag=&quot;hF1QN5Uu6QMd6UFBLEEE&quot; version=&quot;14.4.4&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;GdeM21BdM1VGnwbfoKqV&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 167 70 L 167 103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 167 108.88 L 163.5 101.88 L 167 103.63 L 170.5 101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="127" y="30" width="80" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 50px; margin-left: 128px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">数据更新</div></div></div></foreignObject><text x="167" y="54" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">数据更新</text></switch></g><rect x="87" y="350" width="160" height="80" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 390px; margin-left: 88px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">执行 patch 函数<br />runtime-core<br />renderer.ts<br />patch</div></div></div></foreignObject><text x="167" y="394" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">执行 patch 函数...</text></switch></g><path d="M 247 390 L 297 390 L 297 70 L 440.63 70" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 445.88 70 L 438.88 73.5 L 440.63 70 L 438.88 66.5 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><path d="M 527 70 L 760.63 70" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 765.88 70 L 758.88 73.5 L 760.63 70 L 758.88 66.5 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 70px; margin-left: 647px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="647" y="73" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 487 110 L 487 143.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 487 148.88 L 483.5 141.88 L 487 143.63 L 490.5 141.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 130px; margin-left: 487px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="487" y="133" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 487 30 L 527 70 L 487 110 L 447 70 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 70px; margin-left: 448px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">组件vnode</div></div></div></foreignObject><text x="487" y="74" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">组件vnode</text></switch></g><path d="M 487 230 L 487 263.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 487 268.88 L 483.5 261.88 L 487 263.63 L 490.5 261.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 250px; margin-left: 487px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="487" y="253" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 527 190 L 607 190 L 607 513.07 L 574.33 513.01" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 569.08 513 L 576.08 509.51 L 574.33 513.01 L 576.07 516.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 331px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="607" y="335" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 487 150 L 527 190 L 487 230 L 447 190 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 190px; margin-left: 448px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">是否需要<br />更新</div></div></div></foreignObject><text x="487" y="194" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">是否需要&#xa;更新</text></switch></g><rect x="397" y="270" width="180" height="120" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 330px; margin-left: 398px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">浅拷贝属性<br /><span style="font-family: &quot;helvetica&quot;">runtime-core</span><br style="font-family: &quot;helvetica&quot;" /><span style="font-family: &quot;helvetica&quot;">renderer.ts<br /></span><span style="font-family: &quot;helvetica&quot;">updateComponent</span><br style="font-family: &quot;helvetica&quot;" />n2.component = n1.component<br />n2.el = n1.el<br />instance.vnode = n2</div></div></div></foreignObject><text x="487" y="334" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">浅拷贝属性runtime-core...</text></switch></g><path d="M 847 70 L 960.63 70" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 965.88 70 L 958.88 73.5 L 960.63 70 L 958.88 66.5 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 70px; margin-left: 907px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="907" y="73" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 807 110 L 807 143.63" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 807 148.88 L 803.5 141.88 L 807 143.63 L 810.5 141.88 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 807 30 L 847 70 L 807 110 L 767 70 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 70px; margin-left: 768px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">普通元素vnode</div></div></div></foreignObject><text x="807" y="74" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">普通元素vnode</text></switch></g><rect x="967" y="50" width="80" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 70px; margin-left: 968px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">处理其他类型vnode</div></div></div></foreignObject><text x="1007" y="74" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">处理其他类型vnode</text></switch></g><path d="M 167 190 L 167 223.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 167 228.88 L 163.5 221.88 L 167 223.63 L 170.5 221.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="87" y="110" width="160" height="80" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 150px; margin-left: 88px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">触发副作用<br />runtime-core<br />renderer.ts<br />effect(componentEffect)<br />instance.isMounted = true</div></div></div></foreignObject><text x="167" y="154" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">触发副作用runtime-core...</text></switch></g><path d="M 167 310 L 167 343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 167 348.88 L 163.5 341.88 L 167 343.63 L 170.5 341.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="87" y="230" width="160" height="80" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 270px; margin-left: 88px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">执行 render 函数<br />获取 subTree vnode<br />runtime-core<br />componentRenderUtils.ts<br />renderComponentRoot</div></div></div></foreignObject><text x="167" y="274" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">执行 render 函数...</text></switch></g><path d="M 407 520 L 259.62 520" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 254.37 520 L 261.37 516.5 L 259.62 520 L 261.37 523.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="407" y="470" width="160" height="100" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 520px; margin-left: 408px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">执行 instance.update 函数<br />(触发副作用)<br />runtime-core<br />renderer.ts<br />updateComponent<br />instance.next = n2</div></div></div></foreignObject><text x="487" y="524" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">执行 instance.update 函数...</text></switch></g><rect x="377" y="0" width="220" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 218px; height: 1px; padding-top: 7px; margin-left: 379px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">shapeFlag &amp; ShapeFlags.COMPONENT</div></div></div></foreignObject><text x="379" y="19" fill="#000000" font-family="Helvetica" font-size="12px">shapeFlag &amp; ShapeFlags.COMPONENT</text></switch></g><rect x="307" y="145" width="160" height="90" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 152px; margin-left: 308px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">runtime-core</span><br style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)" /><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">renderer.ts</span><br style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)" /><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">processComponent</span><br style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)" /><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">updateComponent</span><br style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)" /><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">shouldUpdateComponent</span></div></div></div></foreignObject><text x="387" y="164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime-core...</text></switch></g><rect x="697" y="0" width="220" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 218px; height: 1px; padding-top: 7px; margin-left: 699px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">shapeFlag &amp; ShapeFlags.ELEMENT</div></div></div></foreignObject><text x="699" y="19" fill="#000000" font-family="Helvetica" font-size="12px">shapeFlag &amp; ShapeFlags.ELEMENT</text></switch></g><path d="M 80.75 520 L 47 520 L 47 270 L 80.63 270" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 85.88 270 L 78.88 273.5 L 80.63 270 L 78.88 266.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="80.75" y="487.5" width="172.5" height="65" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 520px; margin-left: 82px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新组件实例<br />runtime-core<br />renderer.ts<br />updateComponentPreRender</div></div></div></foreignObject><text x="167" y="524" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新组件实例runtime-core...</text></switch></g><path d="M 807 230 L 807 263.63" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 807 268.88 L 803.5 261.88 L 807 263.63 L 810.5 261.88 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="712" y="150" width="190" height="80" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 190px; margin-left: 713px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">patch 元素<br />runtime-core<br />renderer.ts<br />patchElement</div></div></div></foreignObject><text x="807" y="194" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">patch 元素...</text></switch></g><path d="M 807 350 L 807 383.63" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 807 388.88 L 803.5 381.88 L 807 383.63 L 810.5 381.88 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="712" y="270" width="190" height="80" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 310px; margin-left: 713px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新属性<br />runtime-core<br />renderer.ts<br />patchProps || hostPatchProp || ...</div></div></div></foreignObject><text x="807" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新属性runtime-core...</text></switch></g><path d="M 807 470 L 807 503.63" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 807 508.88 L 803.5 501.88 L 807 503.63 L 810.5 501.88 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="688.25" y="390" width="237.5" height="80" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 236px; height: 1px; padding-top: 430px; margin-left: 689px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新子节点<br />runtime-core<br />renderer.ts<br />patchChildren || patchBlockChildren || ...</div></div></div></foreignObject><text x="807" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新子节点runtime-core...</text></switch></g><path d="M 807 590 L 807 610 L 7 610 L 7 390 L 80.63 390" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 85.88 390 L 78.88 393.5 L 80.63 390 L 78.88 386.5 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="713.25" y="510" width="187.5" height="80" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 186px; height: 1px; padding-top: 550px; margin-left: 714px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">differ 算法<br />runtime-core<br />renderer.ts<br />patchKeyedChildren</div></div></div></foreignObject><text x="807" y="554" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">differ 算法...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>